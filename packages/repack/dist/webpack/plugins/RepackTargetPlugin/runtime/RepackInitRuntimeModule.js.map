{"version":3,"file":"RepackInitRuntimeModule.js","names":["_webpack","_interopRequireDefault","require","e","__esModule","default","RepackInitRuntimeModule","webpack","RuntimeModule","constructor","config","STAGE_BASIC","generate","Template","asString","getFunctionContent","replaceAll","hmrEnabled","chunkId","chunkLoadingGlobal","globalObject","exports"],"sources":["../../../../../src/webpack/plugins/RepackTargetPlugin/runtime/RepackInitRuntimeModule.ts"],"sourcesContent":["import webpack from 'webpack';\n\ninterface RepackInitRuntimeModuleConfig {\n  chunkId: string | number | undefined;\n  globalObject: string;\n  chunkLoadingGlobal: string;\n  hmrEnabled?: boolean;\n}\n\nexport class RepackInitRuntimeModule extends webpack.RuntimeModule {\n  constructor(private config: RepackInitRuntimeModuleConfig) {\n    super('repack/init', webpack.RuntimeModule.STAGE_BASIC);\n  }\n\n  generate() {\n    return webpack.Template.asString([\n      '// Repack runtime initialization logic',\n      webpack.Template.getFunctionContent(require('./implementation/init'))\n        .replaceAll('$hmrEnabled$', `${this.config.hmrEnabled ?? false}`)\n        .replaceAll('$chunkId$', `\"${this.config.chunkId ?? 'unknown'}\"`)\n        .replaceAll(\n          '$chunkLoadingGlobal$',\n          `\"${this.config.chunkLoadingGlobal}\"`\n        )\n        .replaceAll('$globalObject$', this.config.globalObject),\n    ]);\n  }\n}\n"],"mappings":";;;;;;AAAA,IAAAA,QAAA,GAAAC,sBAAA,CAAAC,OAAA;AAA8B,SAAAD,uBAAAE,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AASvB,MAAMG,uBAAuB,SAASC,gBAAO,CAACC,aAAa,CAAC;EACjEC,WAAWA,CAASC,MAAqC,EAAE;IACzD,KAAK,CAAC,aAAa,EAAEH,gBAAO,CAACC,aAAa,CAACG,WAAW,CAAC;IAAC,KADtCD,MAAqC,GAArCA,MAAqC;EAEzD;EAEAE,QAAQA,CAAA,EAAG;IACT,OAAOL,gBAAO,CAACM,QAAQ,CAACC,QAAQ,CAAC,CAC/B,wCAAwC,EACxCP,gBAAO,CAACM,QAAQ,CAACE,kBAAkB,CAACb,OAAO,CAAC,uBAAuB,CAAC,CAAC,CAClEc,UAAU,CAAC,cAAc,EAAE,GAAG,IAAI,CAACN,MAAM,CAACO,UAAU,IAAI,KAAK,EAAE,CAAC,CAChED,UAAU,CAAC,WAAW,EAAE,IAAI,IAAI,CAACN,MAAM,CAACQ,OAAO,IAAI,SAAS,GAAG,CAAC,CAChEF,UAAU,CACT,sBAAsB,EACtB,IAAI,IAAI,CAACN,MAAM,CAACS,kBAAkB,GACpC,CAAC,CACAH,UAAU,CAAC,gBAAgB,EAAE,IAAI,CAACN,MAAM,CAACU,YAAY,CAAC,CAC1D,CAAC;EACJ;AACF;AAACC,OAAA,CAAAf,uBAAA,GAAAA,uBAAA","ignoreList":[]}