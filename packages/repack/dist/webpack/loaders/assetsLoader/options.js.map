{"version":3,"file":"options.js","names":["_webpack","require","optionsSchema","exports","type","required","properties","platform","scalableAssetExtensions","inline","devServerEnabled","publicPath","remote","enabled","assetPath","instanceOf","pattern","getOptions","loaderContext","options","validateSchema","name"],"sources":["../../../../src/webpack/loaders/assetsLoader/options.ts"],"sourcesContent":["import { validateSchema, LoaderContext } from 'webpack';\n\nexport interface Options {\n  platform: string;\n  scalableAssetExtensions: string[];\n  devServerEnabled?: boolean;\n  inline?: boolean;\n  publicPath?: string;\n  remote?: {\n    enabled: boolean;\n    assetPath?: (args: {\n      resourcePath: string;\n      resourceFilename: string;\n      resourceDirname: string;\n      resourceExtensionType: string;\n    }) => string;\n    publicPath: string;\n  };\n}\n\ntype Schema = Parameters<typeof validateSchema>[0];\n\nexport const optionsSchema: Schema = {\n  type: 'object',\n  required: ['platform', 'scalableAssetExtensions'],\n  properties: {\n    platform: {\n      type: 'string',\n    },\n    scalableAssetExtensions: {\n      type: 'array',\n    },\n    inline: { type: 'boolean' },\n    devServerEnabled: { type: 'boolean' },\n    publicPath: { type: 'string' },\n    remote: {\n      type: 'object',\n      required: ['enabled', 'publicPath'],\n      properties: {\n        enabled: { type: 'boolean' },\n        assetPath: { instanceOf: 'Function' },\n        publicPath: { type: 'string', pattern: '^https?://' },\n      },\n    },\n  },\n};\n\nexport function getOptions(loaderContext: LoaderContext<Options>): Options {\n  const options = loaderContext.getOptions() || {};\n\n  validateSchema(optionsSchema, options, { name: 'repackAssetsLoader' });\n\n  return options as unknown as Options;\n}\n"],"mappings":";;;;;;;AAAA,IAAAA,QAAA,GAAAC,OAAA;AAsBO,MAAMC,aAAqB,GAAAC,OAAA,CAAAD,aAAA,GAAG;EACnCE,IAAI,EAAE,QAAQ;EACdC,QAAQ,EAAE,CAAC,UAAU,EAAE,yBAAyB,CAAC;EACjDC,UAAU,EAAE;IACVC,QAAQ,EAAE;MACRH,IAAI,EAAE;IACR,CAAC;IACDI,uBAAuB,EAAE;MACvBJ,IAAI,EAAE;IACR,CAAC;IACDK,MAAM,EAAE;MAAEL,IAAI,EAAE;IAAU,CAAC;IAC3BM,gBAAgB,EAAE;MAAEN,IAAI,EAAE;IAAU,CAAC;IACrCO,UAAU,EAAE;MAAEP,IAAI,EAAE;IAAS,CAAC;IAC9BQ,MAAM,EAAE;MACNR,IAAI,EAAE,QAAQ;MACdC,QAAQ,EAAE,CAAC,SAAS,EAAE,YAAY,CAAC;MACnCC,UAAU,EAAE;QACVO,OAAO,EAAE;UAAET,IAAI,EAAE;QAAU,CAAC;QAC5BU,SAAS,EAAE;UAAEC,UAAU,EAAE;QAAW,CAAC;QACrCJ,UAAU,EAAE;UAAEP,IAAI,EAAE,QAAQ;UAAEY,OAAO,EAAE;QAAa;MACtD;IACF;EACF;AACF,CAAC;AAEM,SAASC,UAAUA,CAACC,aAAqC,EAAW;EACzE,MAAMC,OAAO,GAAGD,aAAa,CAACD,UAAU,CAAC,CAAC,IAAI,CAAC,CAAC;EAEhD,IAAAG,uBAAc,EAAClB,aAAa,EAAEiB,OAAO,EAAE;IAAEE,IAAI,EAAE;EAAqB,CAAC,CAAC;EAEtE,OAAOF,OAAO;AAChB","ignoreList":[]}