{"version":3,"file":"getWebpackConfigPath.js","names":["_nodePath","_interopRequireDefault","require","_nodeFs","_nodeOs","_nodeUrl","e","__esModule","default","DEFAULT_WEBPACK_CONFIG_LOCATIONS","getWebpackConfigPath","root","customPath","candidates","candidate","filename","path","isAbsolute","join","fs","existsSync","extname","os","platform","url","pathToFileURL","href","Error"],"sources":["../../../src/commands/utils/getWebpackConfigPath.ts"],"sourcesContent":["import path from 'node:path';\nimport fs from 'node:fs';\nimport os from 'node:os';\nimport url from 'node:url';\n\n// Supports the same files as Webpack CLI.\nconst DEFAULT_WEBPACK_CONFIG_LOCATIONS = [\n  'webpack.config.mjs',\n  'webpack.config.cjs',\n  'webpack.config.js',\n  '.webpack/webpack.config.mjs',\n  '.webpack/webpack.config.cjs',\n  '.webpack/webpack.config.js',\n  '.webpack/webpackfile',\n];\n\nexport function getWebpackConfigPath(root: string, customPath?: string) {\n  const candidates = customPath\n    ? [customPath]\n    : DEFAULT_WEBPACK_CONFIG_LOCATIONS;\n\n  for (const candidate of candidates) {\n    const filename = path.isAbsolute(candidate)\n      ? candidate\n      : path.join(root, candidate);\n\n    if (fs.existsSync(filename)) {\n      if (path.extname(filename) === '.mjs' && os.platform() === 'win32') {\n        return url.pathToFileURL(filename).href;\n      } else {\n        return filename;\n      }\n    }\n  }\n\n  throw new Error('Cannot find Webpack configuration file');\n}\n"],"mappings":";;;;;;AAAA,IAAAA,SAAA,GAAAC,sBAAA,CAAAC,OAAA;AACA,IAAAC,OAAA,GAAAF,sBAAA,CAAAC,OAAA;AACA,IAAAE,OAAA,GAAAH,sBAAA,CAAAC,OAAA;AACA,IAAAG,QAAA,GAAAJ,sBAAA,CAAAC,OAAA;AAA2B,SAAAD,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,KAAAE,OAAA,EAAAF,CAAA;AAE3B;AACA,MAAMG,gCAAgC,GAAG,CACvC,oBAAoB,EACpB,oBAAoB,EACpB,mBAAmB,EACnB,6BAA6B,EAC7B,6BAA6B,EAC7B,4BAA4B,EAC5B,sBAAsB,CACvB;AAEM,SAASC,oBAAoBA,CAACC,IAAY,EAAEC,UAAmB,EAAE;EACtE,MAAMC,UAAU,GAAGD,UAAU,GACzB,CAACA,UAAU,CAAC,GACZH,gCAAgC;EAEpC,KAAK,MAAMK,SAAS,IAAID,UAAU,EAAE;IAClC,MAAME,QAAQ,GAAGC,iBAAI,CAACC,UAAU,CAACH,SAAS,CAAC,GACvCA,SAAS,GACTE,iBAAI,CAACE,IAAI,CAACP,IAAI,EAAEG,SAAS,CAAC;IAE9B,IAAIK,eAAE,CAACC,UAAU,CAACL,QAAQ,CAAC,EAAE;MAC3B,IAAIC,iBAAI,CAACK,OAAO,CAACN,QAAQ,CAAC,KAAK,MAAM,IAAIO,eAAE,CAACC,QAAQ,CAAC,CAAC,KAAK,OAAO,EAAE;QAClE,OAAOC,gBAAG,CAACC,aAAa,CAACV,QAAQ,CAAC,CAACW,IAAI;MACzC,CAAC,MAAM;QACL,OAAOX,QAAQ;MACjB;IACF;EACF;EAEA,MAAM,IAAIY,KAAK,CAAC,wCAAwC,CAAC;AAC3D","ignoreList":[]}